"use strict";(self.webpackChunknodejs_mobile_docs=self.webpackChunknodejs_mobile_docs||[]).push([[40],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=o.createContext({}),l=function(e){var t=o.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=l(e.components);return o.createElement(d.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=i,h=u["".concat(d,".").concat(m)]||u[m]||c[m]||r;return n?o.createElement(h,a(a({ref:t},p),{},{components:n})):o.createElement(h,a({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=m;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s[u]="string"==typeof e?e:i,a[1]=s;for(var l=2;l<r;l++)a[l]=n[l];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8352:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var o=n(7462),i=(n(7294),n(3905));const r={sidebar_position:5,title:"F.A.Q."},a=void 0,s={unversionedId:"guide/faq",id:"guide/faq",title:"F.A.Q.",description:"Frequently Asked Questions",source:"@site/docs/guide/faq.md",sourceDirName:"guide",slug:"/guide/faq",permalink:"/docs/guide/faq",draft:!1,editUrl:"https://github.com/nodejs-mobile/nodejs-mobile.github.io/tree/main/docs/guide/faq.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"F.A.Q."},sidebar:"docs",previous:{title:"Getting started",permalink:"/docs/guide/guide-react-native/getting-started"}},d={},l=[{value:"Can I use npm node_modules with nodejs-mobile?",id:"can-i-use-npm-node_modules-with-nodejs-mobile",level:3},{value:"Are all Node.js APIs supported on mobile?",id:"are-all-nodejs-apis-supported-on-mobile",level:3},{value:"Trying to write a file results in an error. What&#39;s going on?",id:"trying-to-write-a-file-results-in-an-error-whats-going-on",level:3},{value:"Are Node.js native addons supported?",id:"are-nodejs-native-addons-supported",level:3},{value:"How can I improve Node.js load times?",id:"how-can-i-improve-nodejs-load-times",level:3},{value:"Can I run two or more Node.js instances?",id:"can-i-run-two-or-more-nodejs-instances",level:3},{value:"Can I run Node.js code in a WebView?",id:"can-i-run-nodejs-code-in-a-webview",level:3}],p={toc:l},u="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(u,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Frequently Asked Questions")),(0,i.kt)("h3",{id:"can-i-use-npm-node_modules-with-nodejs-mobile"},"Can I use npm node_modules with nodejs-mobile?"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Yes"),", npm modules can be used with nodejs-mobile. They need to be installed at development time in the application source folder that contains the Node.js project files. There are samples that show how to use npm modules for ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/nodejs-mobile/nodejs-mobile-samples/tree/master/android/native-gradle-node-folder"},"Android")," and ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/nodejs-mobile/nodejs-mobile-samples/tree/master/ios/native-xcode-node-folder"},"iOS")," when using the native library directly. There are instructions in the ",(0,i.kt)("inlineCode",{parentName:"p"},"nodejs-mobile-cordova"),"'s and ",(0,i.kt)("inlineCode",{parentName:"p"},"nodejs-mobile-react-native"),"'s plugins READMEs on how to use them."),(0,i.kt)("h3",{id:"are-all-nodejs-apis-supported-on-mobile"},"Are all Node.js APIs supported on mobile?"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"No"),", not every API is supported on mobile, the main reason for this being that the mobile operating systems won't allow applications to call certain APIs that are expected to be available on other operating systems."),(0,i.kt)("p",null,"See a ",(0,i.kt)("a",{parentName:"p",href:"../api/differences"},"full list of unsupported APIs here"),"."),(0,i.kt)("h3",{id:"trying-to-write-a-file-results-in-an-error-whats-going-on"},"Trying to write a file results in an error. What's going on?"),(0,i.kt)("p",null,"Mobile platforms are different than the usual desktop platforms in that they require applications to write in specific sandboxed paths and don't have permissions to write elsewhere. You should pass an appropriate writable path for your use case to the Node.js runtime and write there. An API call to return the path most regularly used for data in each platform has been added to the ",(0,i.kt)("inlineCode",{parentName:"p"},"nodejs-mobile-cordova")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"nodejs-mobile-react-native")," plugins."),(0,i.kt)("h3",{id:"are-nodejs-native-addons-supported"},"Are Node.js native addons supported?"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Yes"),", node native modules, which contain native code (C/C++ or Rust), are able to run on nodejs-mobile, as long as they can be cross-compiled for the target platform / CPU. The cross-compiling feature is integrated into the plugins and instructions can be found in the ",(0,i.kt)("inlineCode",{parentName:"p"},"nodejs-mobile-cordova")," or in the ",(0,i.kt)("inlineCode",{parentName:"p"},"nodejs-mobile-react-native")," READMEs, but only Linux and MacOS development machines are currently supported."),(0,i.kt)("p",null,"Modules that contain custom build steps and platform specific code may need workarounds/changes to get them to work. There is a ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/orgs/nodejs-mobile/discussions/categories/native-addons"},"discussion section")," dedicated to this so that the workarounds/changes can be discussed and shared."),(0,i.kt)("p",null,"We also have an official CLI tool called ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/nodejs-mobile/prebuild-for-nodejs-mobile"},"prebuild-for-nodejs-mobile")," which enables you to compile the native addon ahead-of-time, and then import it into your project. This means that these native addons don't need to be re-compiled every time you compile your mobile app."),(0,i.kt)("h3",{id:"how-can-i-improve-nodejs-load-times"},"How can I improve Node.js load times?"),(0,i.kt)("p",null,"Applications that contain a large number of files in the Node.js project can have their load times decreased by reducing the number of files. While installing npm modules, these can be installed with the ",(0,i.kt)("inlineCode",{parentName:"p"},"--production")," flag, so that modules that are used for development only are not included in your project, e.g.: ",(0,i.kt)("inlineCode",{parentName:"p"},"npm install --production <module_name>"),"."),(0,i.kt)("p",null,"However, the most effective method is to use a bundler such as ",(0,i.kt)("a",{parentName:"p",href:"https://esbuild.github.io/"},"esbuild")," to create a single file for all the JavaScript source used by nodejs-mobile, and then you can delete the node_modules folder (minus the native addons)"),(0,i.kt)("h3",{id:"can-i-run-two-or-more-nodejs-instances"},"Can I run two or more Node.js instances?"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"No"),", the runtime expects to be run as a single instance in the process. In practice this should not preclude any usage scenarios, given node's asynchronous nature. Multiple sub-tasks can be executed by simply loading all the corresponding modules with ",(0,i.kt)("inlineCode",{parentName:"p"},"require")," from a main script. The library supports ",(0,i.kt)("inlineCode",{parentName:"p"},"worker_threads"),", which should allow running Node.js code on more than one thread."),(0,i.kt)("h3",{id:"can-i-run-nodejs-code-in-a-webview"},"Can I run Node.js code in a WebView?"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"No"),", Node.js uses a libuv event loop at its core, which is different than the event loop in the WebView. Having the node runtime run in its own thread also prevents Node.js tasks for interfering with the UI, which might cause responsiveness issues. The supported usage scenario is that nodejs-mobile runs in a background thread and the UI (in this case a WebView) must use a communication mechanism to send/receive data from Node.js. This technique is used in the ",(0,i.kt)("inlineCode",{parentName:"p"},"nodejs-mobile-cordova")," plugin, where Cordova uses a dedicated thread to run Node.js alongside the WebView."))}c.isMDXComponent=!0}}]);